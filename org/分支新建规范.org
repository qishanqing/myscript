#+TITLE:  分支创建指南

* 功能介绍
** 全局注意事项
以下各项功能除必要参数外，其他都不需要填写

以下所有参数输入 *首尾绝对* 不能出现空格 

只针对分支创建、分支关闭和项目查询提供邮件服务

统一由cm创建的分支格式组成部分为
#+BEGIN_SRC 
https://192.168.0.220/svn/tech/Branch/20171206-终端数据扩容(分支名称)/Develop/外部业务/P2P/P2PManager(项目主干相对路径),说明此分支的主干路径为https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/P2PManager
#+END_SRC


** 新分支创建
*** 从主干拉取代码
**** 必要参数 
*分支类型选择*->新建分支（默认）

*项目主干路径*:
输入主干项目路径为：
#+BEGIN_SRC 
https:///svn/tech/Trunk/基础业务/用户中心/UserBusiness
#+END_SRC

*分支名称*:
同 *特殊分支日期* 组合为名称如 *20171206-终端数据扩容* 这里只需要输入 *终端数据扩容*    默认时间为当日

*权限人员*:
svn账户名

*禅道工单*:
输入禅道地址，用于数据库后台记录

*特殊分支日期*：
用于已有分支名 如 *20171201-商城资金方* 下添加新项目，需填写对应的分支日期，对应 /*分支名称*/ 组合

**** 此功能注意事项
如需一个分支下添加很多项目, *主干项目路径* 可以输入多个，用空格隔开（空格数量随意），但是首尾也同样 *绝对* 不能出现空格

权限人员可以输入多个，用空格隔开（空格数量随意），但是首尾也同样 *绝对* 不能出现空格,默认添加的权限人员都会发送邮件，发送的收件人组合为 *svn账户名@dafy.com*


*** 从分支获取代码
**** 必要参数 
*分支类型选择*->新建分支(从分支)

*项目主干路径*:
输入分支全路径 如
#+BEGIN_SRC 
https://192.168.0.220/svn/tech/Branch/20171206-Boss后台达飞Z切换中间人/Develop/外部业务/P2P/P2PManager
#+END_SRC


*分支名称*:
同 *特殊分支日期* 组合为名称如 *20171206-终端数据扩容* 这里只需要输入 /*终端数据扩容*/    默认时间为当日

*权限人员*:
svn账户名

*特殊分支日期*:
用于已有分支名 如 *20171206-终端数据扩容* 下添加新项目，需填写对应的分支日期，对应 /*分支名称*/ 组合

** 关闭分支
**** 必要参数 
*分支类型选择*->关闭分支

*项目主干路径*:
随意输入,但是不允许为空

*分支名称*:
分支名称全路径，如 
#+BEGIN_SRC 
https://192.168.0.220/svn/tech/Branch/20190327-大额借款反欺诈调整/Develop/外部业务/P2P/Business/BorrowBusiness2
#+END_SRC


** 分支权限添加
*** 必要参数 
*分支类型选择*->分支权限添加

*项目主干路径*:
 随意输入,但是不允许为空

*分支名称*
分支名称全路径，如 
#+BEGIN_SRC 
https://192.168.0.220/svn/tech/Branch/20190327-大额借款反欺诈调整/Develop/外部业务/P2P/Business/BorrowBusiness2
#+END_SRC


*权限人员*:
svn账户名（多人空格隔开）


** 项目查询
**** 必要参数 
*分支类型选择*->项目查询

*项目主干路径*:
输入你想要查询的svn项目路径，主干路径和分支路径不限，如下图
#+BEGIN_SRC 
https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/Business  或者 https://192.168.0.220/svn/tech/Branch/20171207-修改金财动力报表/Develop/外部业务/P2P/Business/FDPReport
#+END_SRC

*分支名称*:
随意输入,但是不允许为空


** 新建主干项目
*** 从已有分支获取代码创建主干新项目
**** 必要参数 
*分支类型选择*->新增主干

*项目主干路径*:
从已有分支输入主干路径
#+BEGIN_SRC 
https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/xxx
#+END_SRC

*分支名称*:
#+BEGIN_SRC 
如 https://192.168.0.220/svn/tech/Branch/20171206-Boss后台达飞Z切换中间人/Develop/外部业务/P2P/xxx
#+END_SRC

*** 创建主干空项目
**** 必要参数 
*分支类型选择*->新建主干

*项目主干路径*:
#+BEGIN_SRC 
如在主干路径下 https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/P2PManager 新建xxx项目，输入https://192.168.0.220/svn/tech/Trunk/外部业务/P2P/P2PManager/xxx  可以多级添加
#+END_SRC

*分支名称*:
随意输入,但是不允许为空

**** 此功能注意事项
主干新项目不存在需要创建新分支的，先进行此项操作，然后再进行新分支创建

** 新建基线

** 服务启动

登录192.168.0.231服务器-->切换到qishanqing账号--> cd ~/myscript/builder/ --> 执行如下语句
*nohup rails s -b 192.168.0.231 -p 3000 > ~/myscript/builder/log/development.log 2>&1 &*  

