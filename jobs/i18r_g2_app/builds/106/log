Started by user [8mha:////4JsmfVaxi1h9f0DBH/X/xYL9ttUIEwoLk6CscBz03DJVAAAAnR+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAweoBn6pcWpRfpVGfmlFZmJ+Tn5eekAKx/ES8cAAAA=[0mzhouxiaolong
Rebuilds build #[8mha:////4Av8ip3zIpRhTswZ8Sl387p0xp+UbfFlwrnBhd62bin/AAAAqR+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAzmEgZZ/bLM1HL94uRc/az8JP1MQ4ui+HSj+MSCAn1DA1MA0hwaodIAAAA=[0m105
Running as SYSTEM
Building remotely on [8mha:////4LsIzei+j/ZTgpZIXFZkfME08lVHErI3ufEjW+N1eX2tAAAAoR+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAzuEgZR/eT83ILSktQi/eyMxJTEYt3kxCJTAHJKZSTKAAAA[0mkhadas-car5 (car5) in workspace /root/workspace/workspace/i18r_g2_app
[WS-CLEANUP] Deleting project workspace...
[WS-CLEANUP] Deferred wipeout is used...
[WS-CLEANUP] Done
[i18r_g2_app] $ /bin/sh -xe /tmp/jenkins4992807099295069937.sh
+ bash /root/myscript/build/18r_g2.sh
++ export MYSQL_PWD=123
++ MYSQL_PWD=123
++ export -f cmdb_mysql
+ . /root/myscript/build/../sh/version-update.sh
++ . /root/.bashrc
+++ '[' -z '' ']'
+++ return
+ set -x
+ init_project_env
++ whoami
+ '[' root = root ']'
+ ios=root
+ RELEASE_DIR=/root
+ DESKTOP_DIR=/root/workspace/i18rApplicationDeb/work/root/workspace
+ BUILD_DIR=/root/workspace
+ appname=18R_G2
++ uname -m
+ PLATFORM=aarch64
+ ui_job_name=i18r_g2_ui
+ CLONE_DEPTH=--depth=1
+ sourcename=18r_g2_server
+ default_branch=i18r_g2
+ APP_WORKSPACE=/root/workspace/i18rApplicationDeb/work
+ WORK_DIR=/root/workspace/i18rApplicationDeb/work/root/workspace
+ VERSION_FILE=/root/workspace/i18rApplicationDeb/work/DEBIAN/control
+ UI_DIR=/mnt/ftp/release/18R_G2/client
+ TEST_DIR=/mnt/ftp/release/18R_G2/test
+ FTP_RELEASE_DIR=/mnt/ftp/release/18R_G2/fresh_version
+ FTP_RELEASE_SIGN_DIR=/mnt/ftp/release/18R_G2/fresh_version/sign
+ FTP_RELEASE_OTA_DIR=/mnt/ftp/release/18R_G2/fresh_version/ota_full_version
+ FTP_RELEASE_OTA_DIFF_DIR=/mnt/ftp/release/18R_G2/fresh_version/ota
+ function_list=/mnt/ftp/release/app_update_release
+ CONFIG_DIR=/root/system/i18rconfig
+ OTA_DIR=/root/system/i18rota
++ uname -m
+ PLATFORM=aarch64
+ RELEASE_BRANCH=18R_G2-MP
+ RELEASE_TAG=r89_18R_G2-MP
++ cmdb_mysql 'SELECT version FROM indemindapp where status='\''0'\'' and swr_version='\''MP'\'' and indemind_release='\''test'\'' and appname='\''18R_G2'\'' order by id desc limit 5;'
++ tail -n 1
++ set +x
+ min_version=
+ CLONE_DEPTH=--depth=1
+ CONFIG_REMOTE='git clone ssh://git@192.168.50.191:222/AroundI18RProject/i18rconfig.git /root/system/i18rconfig -b  i18r_g2 --depth=1'
+ ENCRYPTION_TOOL=/root/system/i18rconfig/upx_arm.out
+ tgz_release=INTG
+ trash_dir=/mnt/ftp/Trash
+ is-trigger-job
+ '[' xzhouxiaolong = xtimer ']'
+ mount_ftp
+ '[' -d /mnt/ftp/release ']'
+ check_paremter_is_right
+ rx='^([0-9]+\.){3}([0-9]+)$'
+ [[ -z 89 ]]
++ check 89
++ local a=89
++ printf %d 89
++ echo integer
++ return
+ [[ integer == vb ]]
++ check 89
++ local a=89
++ printf %d 89
++ echo integer
++ return
+ [[ integer == integer ]]
+ [[ 89 =~ ^([0-9]+\.){3}([0-9]+)$ ]]
+ RELEASE=test
+ echo 'check paremter is done'
check paremter is done
+ clean_workspace
+ pushd /root/workspace
~/workspace ~/workspace/workspace/i18r_g2_app
+ sudo rm -rf i18rApplicationDeb 'INDEMINDAPP*' 18r_g2_server client
sudo: Êó†Ê≥ïËß£Êûê‰∏ªÊú∫Ôºöcar5
+ popd
~/workspace/workspace/i18r_g2_app
+ App_project_fetch
+ pushd /root/workspace
~/workspace ~/workspace/workspace/i18r_g2_app
+ git clone ssh://git@192.168.50.191:222/AroundI18RProject/i18rApplicationDeb.git --depth=1
Ê≠£ÂÖãÈöÜÂà∞ 'i18rApplicationDeb'...
+ mkdir -p /root/workspace/i18rApplicationDeb/work/root/workspace
+ pushd /root/workspace
~/workspace ~/workspace ~/workspace/workspace/i18r_g2_app
+ git clone ssh://git@192.168.50.191:222/repid_deploy/integration/application_package.git -b debug 18r_g2_server
Ê≠£ÂÖãÈöÜÂà∞ '18r_g2_server'...
fatal: ËøúÁ®ãÂàÜÊîØ debug Âú®‰∏äÊ∏∏ origin Êú™ÂèëÁé∞
+ popd
~/workspace/workspace/i18r_g2_app
+ App_install
+ pushd /root/workspace/i18rApplicationDeb/work
~/workspace/i18rApplicationDeb/work ~/workspace/workspace/i18r_g2_app
+ ui_update
+ set +e
+ (( n = 0 ))
+ (( n < 30 ))
fatal: the remote end hung up unexpectedly
++ grep '^Co'
++ cat /root/tmp/logs/i18r_g2_app.log
+ build_ret='Completed i18r_g2_ui #123 : SUCCESS'
+ echo Completed i18r_g2_ui '#123' : SUCCESS
Completed i18r_g2_ui #123 : SUCCESS
+ [[ -z Completed i18r_g2_ui #123 : SUCCESS ]]
+ break
+ mkdir -p /root/workspace/i18rApplicationDeb/work/root/workspace
++ head -1
++ ls -t '/mnt/ftp/release/INDEMINDAPP/product_tools/18R_G2--client*'
ls: Êó†Ê≥ïËÆøÈóÆ'/mnt/ftp/release/INDEMINDAPP/product_tools/18R_G2--client*': Ê≤°ÊúâÈÇ£‰∏™Êñá‰ª∂ÊàñÁõÆÂΩï
+ local client_name=
+ [[ ! -z '' ]]
+ config_project_update
+ [[ -d /root/system/i18rconfig ]]
+ rm -rf /root/system/i18rconfig
+ git clone ssh://git@192.168.50.191:222/AroundI18RProject/i18rconfig.git /root/system/i18rconfig -b i18r_g2 --depth=1
Ê≠£ÂÖãÈöÜÂà∞ '/root/system/i18rconfig'...
+ pushd /root/workspace/i18rApplicationDeb/work/root/workspace
~/workspace/i18rApplicationDeb/work/root/workspace ~/workspace/i18rApplicationDeb/work ~/workspace/workspace/i18r_g2_app
+ [[ -z '' ]]
+ cp -av /root/system/i18rconfig/client .
+ popd
~/workspace/i18rApplicationDeb/work ~/workspace/workspace/i18r_g2_app
+ Version_Update
+ mv /root/workspace/18r_g2_server /root/workspace/i18rApplicationDeb/work/root/workspace
mv: Êó†Ê≥ïËé∑Âèñ'/root/workspace/18r_g2_server' ÁöÑÊñá‰ª∂Áä∂ÊÄÅ(stat): Ê≤°ÊúâÈÇ£‰∏™Êñá‰ª∂ÊàñÁõÆÂΩï
+ sed -i s/VERSION/89/g /root/workspace/i18rApplicationDeb/work/DEBIAN/control
+ sed -i s/appname/18R_G2/g /root/workspace/i18rApplicationDeb/work/DEBIAN/control
+ sed -i s/SWR_VERSION/MP/g /root/workspace/i18rApplicationDeb/work/DEBIAN/control
+ sed -i s/RELEASE/test/g /root/workspace/i18rApplicationDeb/work/DEBIAN/control
+ '[' aarch64 = aarch64 ']'
+ sed -i s/PLATFORM/arm64/g /root/workspace/i18rApplicationDeb/work/DEBIAN/control
+ [[ test = test ]]
+ sed -i s/INDEMINDAPP/TESTAPP/g /root/workspace/i18rApplicationDeb/work/DEBIAN/control
+ sudo chmod 755 DEBIAN root -R
sudo: Êó†Ê≥ïËß£Êûê‰∏ªÊú∫Ôºöcar5
+ Add_Tag
+ RELEASE_TAG=r89_18R_G2-MP
+ [[ ! -z '' ]]
+ [[ ! -z '' ]]
+ [[ test = test ]]
+ echo 'add tag disabled'
add tag disabled
+ cmdb_mysql 'update indemindapp set tag_name='\''r89_18R_G2-MP'\'',client='\'''\'' where build_url='\''http://192.168.50.191:8088/job/i18r_g2_app/106/'\'';'
+ set +x
+ Release_Version_Rule_all
+ pushd /root/workspace/i18rApplicationDeb/work/root/workspace/18r_g2_server
/root/myscript/build/../sh/version-update.sh: Á¨¨ 444 Ë°å: pushd: /root/workspace/i18rApplicationDeb/work/root/workspace/18r_g2_server: Ê≤°ÊúâÈÇ£‰∏™Êñá‰ª∂ÊàñÁõÆÂΩï
+ [[ aarch64 = aarch64 ]]
+ xargs -i rm -rf '{}'
+ find -name x64
+ xargs -i rm -rf '{}'
+ find -name .git
+ popd
~/workspace/workspace/i18r_g2_app
+ [[ test = test ]]
+ deb_type
+ deb_name=INDEMINDAPP_18R_G2_MP_89.deb
+ tee /root/workspace/i18rApplicationDeb/work/root/workspace/version.txt
+ echo INDEMINDAPP_18R_G2_MP_89.deb
INDEMINDAPP_18R_G2_MP_89.deb
+ dpkg -b . /root/workspace/INDEMINDAPP_18R_G2_MP_89.deb
dpkg-deb: ÈîôËØØ: Êó†Ê≥ïÊâìÂºÄËΩØ‰ª∂ÂåÖÁöÑ info Êñá‰ª∂ ./DEBIAN/control ‰ª•‰æøËØªÂèñ: Ê≤°ÊúâÈÇ£‰∏™Êñá‰ª∂ÊàñÁõÆÂΩï
++ cat /root/workspace/i18rApplicationDeb/work/root/workspace/version.txt
+ deb_md5=INDEMINDAPP_18R_G2_MP_89.deb
+ mv '/root/workspace/INDEMINDAPP_18R_G2_*' /mnt/ftp/release/18R_G2/test
mv: Êó†Ê≥ïËé∑Âèñ'/root/workspace/INDEMINDAPP_18R_G2_*' ÁöÑÊñá‰ª∂Áä∂ÊÄÅ(stat): Ê≤°ÊúâÈÇ£‰∏™Êñá‰ª∂ÊàñÁõÆÂΩï
+ mv /mnt/ftp/release/18R_G2/test/INDEMINDAPP_18R_G2_MP_89.deb /mnt/ftp/Trash
mv: Êó†Ê≥ïËé∑Âèñ'/mnt/ftp/release/18R_G2/test/INDEMINDAPP_18R_G2_MP_89.deb' ÁöÑÊñá‰ª∂Áä∂ÊÄÅ(stat): Ê≤°ÊúâÈÇ£‰∏™Êñá‰ª∂ÊàñÁõÆÂΩï
+ mv '/root/workspace/INDEMINDAPP_18R_G2_*' /mnt/ftp/release/18R_G2/test
mv: Êó†Ê≥ïËé∑Âèñ'/root/workspace/INDEMINDAPP_18R_G2_*' ÁöÑÊñá‰ª∂Áä∂ÊÄÅ(stat): Ê≤°ÊúâÈÇ£‰∏™Êñá‰ª∂ÊàñÁõÆÂΩï
+ cmdb_mysql 'update indemindapp set status='\''1'\'', deb_md5ck='\''INDEMINDAPP_18R_G2_MP_89.deb'\'' where build_url='\''http://192.168.50.191:8088/job/i18r_g2_app/106/'\'';'
+ set +x
+ mv '/root/workspace/INDEMINDAPP_*' /mnt/ftp/release/18R_G2/fresh_version
mv: Êó†Ê≥ïËé∑Âèñ'/root/workspace/INDEMINDAPP_*' ÁöÑÊñá‰ª∂Áä∂ÊÄÅ(stat): Ê≤°ÊúâÈÇ£‰∏™Êñá‰ª∂ÊàñÁõÆÂΩï
+ true
+ popd
/root/myscript/build/18r_g2.sh: Á¨¨ 99 Ë°å: popd: ÁõÆÂΩïÊ†à‰∏∫Á©∫
Build step 'Execute shell' marked build as failure
Finished: FAILURE
